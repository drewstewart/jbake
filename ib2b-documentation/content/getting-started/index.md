title=Getting Started
type=page
status=published
version=current
~~~~~~

# The Basics

These iB2B documents are generated by the `nbn-jbake` static page generation tool - it is a command line tool used to both generate the documentation and to serve the content to your browser. 

All the documents are written using [Markdown](https://help.github.com/articles/markdown-basics/) which is intended to be easy-to-read and easy-to-write. Here's an example snippet of markdown:

```
# I'm a heading

## And I'm a sub-heading

Separate your paragraphs with newlines. Create a list:

- Item
- Another item
```

### Editing documents

Assuming you're in the folder where you extracted the nbn-jbake zip you will find all the documents in `ib2b-documentation/content`.


## iB2B Project Structure

Projects have the following structure

```
.
| README.md
|-- assets
|   |-- css
|   |-- fonts
|   |-- img
|   |-- js
|-- content
|   |-- about
|       |-- index.md
|   |-- services
|       |-- manage_product_order.md
|-- templates
|   |-- index.liquid
|   |-- interface-specification.liquid
|   |-- partials
|       |-- header.liquid
|-- jbake.properties
```

### Assets

Holds the static files that are copied to the root of the destination folder. Any folder structure created will be maintained. Note that this folder holds all the css and js required to style the documents. Other assets you might place here include images and sample messages.

### Content

Place the dynamic site content in this folder. The content contained within the files in this folder will be "mixed" with the templates to generate the documentation. It is important to note that files must end with a `.md` extension to be included in the rendering cycle.

### Templates

Liquid templates describe how to render the documentation. Liquid templates originated from Shopify, they offer a safe templating language for flexible web apps and tools. See [the wiki](https://github.com/Shopify/liquid/wiki/Liquid-for-Designers) for details on how to use.

Note that templates only need to be changed when updating the documentation output style. This shouldn't occur very often.

## Create a new spec

Create a file with `.md` extension in the `content` folder. You can create any subfolder structure and this will be maintained when the documentation is generated and will determine the URL the document is available at. For example, if you create a subfolder `products` and place `index.md` the generated document will be available at http://localhost:8820/products/

### Metadata header

Each markdown must have a metadata header before any content. The header is used to determine what template to render the content with, whether it is published, document title etc. A metadata header is a list of key value pairs 

### Subfolders

### Linking to assets

### Including partials

## Templating

Liquid templates describe how to render the documentation. Liquid templates originated from Shopify, they offer a safe templating language for flexible web apps and tools. See [the wiki](https://github.com/Shopify/liquid/wiki/Liquid-for-Designers) for details on how to use.

Note that templates only need to be changed when updating the documentation output style. This shouldn't occur very often.


### Which template is used

### Liquid syntax

### Adding a new document type

The `type` field in the markdown metadata header determines which template is used to render the content. Additionally, types implicitly create categories that templates such as index.liquid can use to output all the links to documents of a particular type; for example "interface-specification".

You can specify a document's type to be anything in the metadata header (it just a key-value store) but a document will only be rendered if there is a corresponding template defined for that type. To add a new document type edit `jbake.properties` in the `ib2b-documentation` path and create an entry for the new type specifying the template file to be used. Here's an example properties file adding the type 'archive':

```
site.host=http://jbake.org
render.tags=false
render.sitemap=true
template.index.file=index.liquid
template.tag.file=tags.liquid
template.sitemap.file=sitemap.liquid
template.page.file=page.liquid
template.interface-specification.file=interface-specification.liquid
template.archive.file=archive.liquid
```

In your liquid templates you can do a lookup for all published documents of a particular type using 'published_{document type}s' (yes, thats pluralised). For our 'archive' example:

```
{% for doc in published_archives %}
    {{ item.title }}
{% endfor %}
```

### Customising the markdown html output

In the `org.jbake.parser` package there is the `MarkdownEngine` class. It contains an inner class `MyHtmlSerializer` - you can override the `public void visit(NodeType node)` method to customise how each node type is rendered to html. 

For example:

```
// Override how Tables are rendered
@Override
public void visit(TableNode node) {
    this.currentTableNode = node;
    this.printIndentedTag(node, "table class="table table-bordered table-striped\"");
    this.currentTableNode = null;
}
```

In the above snippet table nodes are rendered with the class attribute to target those elements with Bootstrap styles.

`MyHtmlSerializer` extends `ToHtmlSerializer`, see the decompiled class for examples on how other tags are handled and override as needed.



